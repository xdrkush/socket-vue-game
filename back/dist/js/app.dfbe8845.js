(function(e){function t(t){for(var s,n,a=t[0],u=t[1],i=t[2],l=0,m=[];l<a.length;l++)n=a[l],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&m.push(r[n][0]),r[n]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(e[s]=u[s]);h&&h(t);while(m.length)m.shift()();return c.push.apply(c,i||[]),o()}function o(){for(var e,t=0;t<c.length;t++){for(var o=c[t],s=!0,n=1;n<o.length;n++){var a=o[n];0!==r[a]&&(s=!1)}s&&(c.splice(t--,1),e=u(u.s=o[0]))}return e}var s={},n={app:0},r={app:0},c=[];function a(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-0e5582df":"6e1b6923","chunk-0e69d3b0":"bdc6db31","chunk-2d216d34":"ab968dc3","chunk-2d230504":"d3981c09","chunk-73ade7ad":"624b1785"}[e]+".js"}function u(t){if(s[t])return s[t].exports;var o=s[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,u),o.l=!0,o.exports}u.e=function(e){var t=[],o={"chunk-73ade7ad":1};n[e]?t.push(n[e]):0!==n[e]&&o[e]&&t.push(n[e]=new Promise((function(t,o){for(var s="css/"+({}[e]||e)+"."+{"chunk-0e5582df":"31d6cfe0","chunk-0e69d3b0":"31d6cfe0","chunk-2d216d34":"31d6cfe0","chunk-2d230504":"31d6cfe0","chunk-73ade7ad":"0adc8852"}[e]+".css",r=u.p+s,c=document.getElementsByTagName("link"),a=0;a<c.length;a++){var i=c[a],l=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(l===s||l===r))return t()}var m=document.getElementsByTagName("style");for(a=0;a<m.length;a++){i=m[a],l=i.getAttribute("data-href");if(l===s||l===r)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var s=t&&t.target&&t.target.src||r,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=s,delete n[e],h.parentNode.removeChild(h),o(c)},h.href=r;var d=document.getElementsByTagName("head")[0];d.appendChild(h)})).then((function(){n[e]=0})));var s=r[e];if(0!==s)if(s)t.push(s[2]);else{var c=new Promise((function(t,o){s=r[e]=[t,o]}));t.push(s[2]=c);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=a(e);var m=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(h);var o=r[e];if(0!==o){if(o){var s=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;m.message="Loading chunk "+e+" failed.\n("+s+": "+n+")",m.name="ChunkLoadError",m.type=s,m.request=n,o[1](m)}r[e]=void 0}};var h=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=s,u.d=function(e,t,o){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(u.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)u.d(o,s,function(t){return e[t]}.bind(null,s));return o},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var m=0;m<i.length;m++)t(i[m]);var h=l;c.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"2d55":function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var s=o("be92"),n=o("66de"),r=o("bfbe");const c=Object(s["b"])("main",{state:()=>({flash:"",loggedIn:!1,currentPlayer:{},currentRoom:{},sessions:[],games:[{name:"puissance-4",path:"p4"}],rooms:[],messages:[]}),getters:{getFlash:e=>e.flash,getCurrentPlayer:e=>e.currentPlayer,getCurrentRoom:e=>e.currentRoom,getLoggedIn:e=>e.loggedIn,getSessions:e=>e.sessions,getGames:e=>e.games,getRooms:e=>e.rooms,getMessages:e=>e.messages},actions:{getSession(){n["a"].socket.on("session",e=>{console.log("Session::",e);const{sessionID:t,userID:o,username:s}=e.session;n["a"].socket.auth={sessionID:t,userID:o,username:s},localStorage.setItem("sessionID",t),n["a"].socket.userID=o,o&&t&&s&&(this.loggedIn=!0,this.currentPlayer={sessionID:t,userID:o,username:s},this.sessions=e.sessions)})},getSync(){n["a"].socket.on("flash",e=>{this.flash=e.message,Object(r["b"])({title:e.message})}),n["a"].socket.on("getSync",e=>{console.log("getSync",e),this.messages=e.messages,this.sessions=e.sessions,this.rooms=e.rooms}),n["a"].socket.on("syncEditProfile",e=>{this.sessions=e.sessions}),n["a"].socket.on("syncRooms",e=>{console.log("syncRooms",e),this.rooms=e.rooms}),n["a"].socket.on("syncRoom",e=>{console.log("syncRoom",e),this.currentRoom=e.room}),n["a"].socket.on("createGame",e=>{console.log("createGame",this,e),this.rooms=e.rooms,this.currentRoom=e.room,this.$router.push("/game/"+e.room.name)}),n["a"].socket.on("startGame",e=>{this.rooms=e.rooms,this.currentRoom=e.room}),n["a"].socket.on("action",e=>{console.log("action",e),this.rooms=e.rooms,this.currentRoom=e.room}),n["a"].socket.on("refresh",e=>{console.log("refresh",e),this.rooms=e.rooms,this.currentRoom=e.room}),n["a"].socket.on("stop",e=>{console.log("stop",e),this.rooms=e.rooms,this.currentRoom=e.room,this.$router.push("/"),Object(r["b"])({title:this.getCurrentRoom.author.username+" Ã  mis fin Ã  la partie ðŸŽ‰"})}),n["a"].socket.on("newRoom",e=>{console.log("newRoom",e),this.rooms=e.rooms}),n["a"].socket.on("userConnected",e=>{console.log("new userConnected:",e.session),this.sessions=e.sessions,Object(r["b"])(e.session.username+" viens de ce connectÃ© !")}),n["a"].socket.on("userDisconnected",e=>{console.log("userDisconnected:",e),this.users=e.users,this.rooms=e.rooms,Object(r["b"])(e.user.name+": c'est dÃ©connecter")})},getSyncMessage(){n["a"].socket.on("syncMessage",e=>{console.log("syncMessage",e),this.messages.push({author:e.author,text:e.text})})}}})},"4c38":function(e,t,o){"use strict";o("6ba2")},"56d7":function(e,t,o){"use strict";o.r(t);var s=o("7a23"),n=o("be92");const r={key:0,class:"register"},c={key:0};function a(e,t,o,n,a,u){const i=Object(s["resolveComponent"])("notifications"),l=Object(s["resolveComponent"])("router-view");return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",null,[Object(s["createVNode"])(i),n.store.getLoggedIn?(Object(s["openBlock"])(),Object(s["createBlock"])(l,{key:1})):(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",r,[Object(s["createElementVNode"])("form",{onSubmit:t[1]||(t[1]=Object(s["withModifiers"])((...e)=>n.onSubmit&&n.onSubmit(...e),["prevent"]))},[Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.username=e),placeholder:"Your username..."},null,512),[[s["vModelText"],n.username]]),n.username.length>2?(Object(s["openBlock"])(),Object(s["createElementBlock"])("button",c,"Send")):Object(s["createCommentVNode"])("",!0)],32)]))])}var u=o("2d55"),i=o("66de"),l={name:"App",setup(){const e=localStorage.getItem("sessionID"),t=Object(s["ref"])(""),o=Object(s["ref"])(!1),n=Object(u["a"])();return n.getSession(),n.getSync(),n.getSyncMessage(),console.log("APPPP",e,n.loggedIn),Object(s["watch"])(()=>n.getFlash,e=>{console.log("watcher:APP",e)}),e&&(console.log("ICIICICIIC"),o.value=!0,i["a"].socket.auth={sessionID:e},i["a"].socket.connect()),{username:t,store:n,onSubmit(){console.log("register",t.value),o.value=!0,i["a"].socket.auth={username:t.value},i["a"].socket.connect()}}}},m=(o("4c38"),o("6b0d")),h=o.n(m);const d=h()(l,[["render",a]]);var p=d,g=o("6605");const b=[{path:"/",component:()=>o.e("chunk-0e5582df").then(o.bind(null,"713b")),children:[{path:"",component:()=>o.e("chunk-2d216d34").then(o.bind(null,"c3b0"))},{path:"p4",component:()=>o.e("chunk-2d230504").then(o.bind(null,"ec6f")),children:[{path:":name",component:()=>o.e("chunk-73ade7ad").then(o.bind(null,"f974"))}]}]},{path:"/game",component:()=>o.e("chunk-0e69d3b0").then(o.bind(null,"bda9")),children:[{path:":game",children:[{path:":id/:name",component:()=>o.e("chunk-73ade7ad").then(o.bind(null,"f974"))}]}]}];var f=b;const k=Object({NODE_ENV:"production",VUE_APP_DOMAIN:"https://game.hsuk.ml",BASE_URL:"/"}).SERVER?g["a"]:"history"===Object({NODE_ENV:"production",VUE_APP_DOMAIN:"https://game.hsuk.ml",BASE_URL:"/"}).VUE_ROUTER_MODE?g["d"]:g["c"],O=Object(g["b"])({scrollBehavior:()=>({left:0,top:0}),routes:f,history:k("ssr"===Object({NODE_ENV:"production",VUE_APP_DOMAIN:"https://game.hsuk.ml",BASE_URL:"/"}).MODE?void 0:Object({NODE_ENV:"production",VUE_APP_DOMAIN:"https://game.hsuk.ml",BASE_URL:"/"}).VUE_ROUTER_BASE)});var v=O,y=o("bfbe");const E=Object(n["a"])(),j=Object(s["createApp"])(p),_=i["a"].setupSocketConnection();E.use(({store:e})=>{e.$router=Object(s["markRaw"])(v)}),j.use(v).use(E).use(_).use(y["a"]).mount("#app")},"66de":function(e,t,o){"use strict";var s=o("ade3"),n=o("daa8");console.log("socket.io",Object({NODE_ENV:"production",VUE_APP_DOMAIN:"https://game.hsuk.ml",BASE_URL:"/"}));const{VUE_APP_DOMAIN:r}=Object({NODE_ENV:"production",VUE_APP_DOMAIN:"https://game.hsuk.ml",BASE_URL:"/"});class c{constructor(){Object(s["a"])(this,"socket",void 0)}setupSocketConnection(){return this.socket=Object(n["a"])(r,{path:"/sosocket",transports:["websocket"],withCredentials:!0,extraHeaders:{headercustom:"abcd"}}),this.socket}}t["a"]=new c},"6ba2":function(e,t,o){}});
//# sourceMappingURL=app.dfbe8845.js.map