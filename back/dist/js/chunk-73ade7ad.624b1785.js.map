{"version":3,"sources":["webpack:///./src/components/puissance4/game.vue?2496","webpack:///./src/components/puissance4/game.vue","webpack:///./src/components/puissance4/compute.js","webpack:///./src/components/puissance4/game.vue?ca34"],"names":["class","style","_createElementVNode","colspan","_createElementBlock","$setup","getCurrentRoom","data","author","_hoisted_2","players","length","limitPlayers","_toDisplayString","username","users","onClick","name","_hoisted_6","_hoisted_9","sessionID","_hoisted_13","player1","point","_hoisted_14","_hoisted_16","_hoisted_19","_hoisted_20","player2","message","getCurrentPlayer","loadGame","_hoisted_24","_hoisted_25","_Fragment","_renderList","board","row","indexRow","key","col","indexCol","id","checkHorizontalPosition","boardArray","position","player","y","compteurHorizontal","last","b","checkVerticalPosition","x","ymax","ymin","compteurVerticala","v","compteurVerticalb","m","compteurVertical","p","checkDiagonalHB","sum","minimunY","minimunX","diagoMax","maximunY","maximunX","maxDiago","compteur","i","r","checkWin","console","log","winDiago","winVertical","winHorizon","rows","cols","boardArrays","Array","from","setup","store","useStore","router","useRouter","route","useRoute","startGame","Socket","socket","emit","isActive","gameOver","currentPlayer","color","stopGame","push","status","refreshGame","checkRow","column","action","c","Number","this","togglePlayer","checkPlayer","copyToClipPart","navigator","clipboard","writeText","window","location","href","notify","title","fullPath","__exports__","render"],"mappings":"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","file":"js/chunk-73ade7ad.624b1785.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./game.vue?vue&type=style&index=0&id=007c9ac1&lang=css\"","<template>\n  <div class=\"col center\" style=\"min-height: 74vh\">\n    <!-- Flash Choose Player -->\n    <div>\n      <h3 v-if=\"!store.getCurrentRoom.data.author\">Welcome to puissance 4</h3>\n      <div\n        class=\"bg-warning txt-light bdr-dark pa-1 box my-1\"\n        style=\"max-width: 720px\"\n        v-if=\"\n          store.getCurrentRoom.players.length <\n          store.getCurrentRoom.limitPlayers\n        \"\n      >\n        <p>\n          <strong class=\"txt-dark\">{{\n            store.getCurrentRoom.author.username\n          }}</strong>\n          : doit choisir un adversaire\n        </p>\n      </div>\n      <div\n        class=\"bg-accent txt-light bdr-dark pa-1 box my-1\"\n        style=\"max-width: 720px\"\n        v-if=\"\n          store.getCurrentRoom.users.length < store.getCurrentRoom.limitPlayers\n        \"\n        @click=\"() => copyToClipPart(store.getCurrentRoom.name)\"\n      >\n        <strong class=\"txt-primary\">Lien d'invitation: </strong>\n        <p>\n          {{ store.getCurrentRoom.name }}\n        </p>\n      </div>\n    </div>\n\n    <!-- Settings / Score / Players -->\n    <div\n      v-if=\"\n        store.getCurrentRoom.data &&\n        store.getCurrentRoom.players[0] &&\n        store.getCurrentRoom.players[1]\n      \"\n      class=\"center w-100-vw py-1 my-1\"\n    >\n      <div class=\"w-100 px-3\">\n        <h3>Player 1</h3>\n        <div class=\"row justify_around w-100\">\n          <div class=\"coin coin-yellow\">\n            <div\n              :class=\"`front ${\n                store.getCurrentRoom.players[0] &&\n                checkPlayer().sessionID ===\n                  store.getCurrentRoom.players[0].sessionID\n                  ? 'jump'\n                  : ''\n              }`\"\n            />\n            <div\n              :class=\"\n                store.getCurrentRoom.players[0] &&\n                checkPlayer().sessionID ===\n                  store.getCurrentRoom.players[0].sessionID\n                  ? 'shadow'\n                  : ''\n              \"\n            />\n          </div>\n          <div>\n            <h4 class=\"mt-5\" v-if=\"store.getCurrentRoom.players.length > 0\">\n              {{ store.getCurrentRoom.players[0].username }}\n            </h4>\n            <h3 v-if=\"store.getCurrentRoom.data.players\">\n              {{ store.getCurrentRoom.data.players.player1.point }}\n            </h3>\n          </div>\n        </div>\n      </div>\n      <h2>VS</h2>\n      <div class=\"w-100 px-3\">\n        <h3>Player 2</h3>\n        <div class=\"row justify_around w-100\">\n          <div>\n            <h4 class=\"mt-5\" v-if=\"store.getCurrentRoom.players.length > 1\">\n              {{ store.getCurrentRoom.players[1].username }}\n            </h4>\n            <h5 v-else>En attente</h5>\n            <h3 v-if=\"store.getCurrentRoom.data.players\">\n              {{ store.getCurrentRoom.data.players.player2.point }}\n            </h3>\n          </div>\n          <div class=\"coin coin-red\">\n            <div\n              :class=\"`front ${\n                store.getCurrentRoom.players[1] &&\n                checkPlayer().sessionID ===\n                  store.getCurrentRoom.players[1].sessionID\n                  ? 'jump'\n                  : ''\n              }`\"\n            />\n            <div\n              :class=\"\n                store.getCurrentRoom.players[1] &&\n                checkPlayer().sessionID ===\n                  store.getCurrentRoom.players[1].sessionID\n                  ? 'shadow'\n                  : ''\n              \"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <h5 class=\"ma-1\" v-if=\"store.getCurrentRoom.data.message\">\n      {{ store.getCurrentRoom.data.message }}\n    </h5>\n\n    <!-- Button / Stop / Retry -->\n    <div\n      v-if=\"\n        store.getCurrentPlayer.sessionID ===\n        store.getCurrentRoom.author.sessionID &&\n        store.getCurrentRoom.players &&\n        store.getCurrentRoom.players.length >= store.getCurrentRoom.limitPlayers\n      \"\n      style=\"display: flex; justify-content: space-around\"\n    >\n      <button v-if=\"!store.getCurrentRoom.data.loadGame\" @click=\"startGame()\">\n        Start\n      </button>\n      <button v-else @click=\"stopGame()\">Stop game</button>\n      <button v-if=\"store.getCurrentRoom.data.loadGame\" @click=\"refreshGame()\">\n        Recommencer\n      </button>\n    </div>\n\n    <div v-if=\"store.getCurrentRoom.data.loadGame\">\n      <table>\n        <tr>\n          <th colspan=\"7\"></th>\n        </tr>\n        <tr\n          v-for=\"(row, indexRow) in store.getCurrentRoom.data.board\"\n          :key=\"indexRow\"\n        >\n          <td\n            v-for=\"(col, indexCol) in row\"\n            :key=\"indexCol\"\n            :style=\"`background-color: ${\n              col === 1 ? 'yellow' : col === 2 ? 'red' : ''\n            }`\"\n            :id=\"'cell-' + indexRow + '-' + indexCol\"\n            @click=\"() => action(indexRow, indexCol)\"\n          />\n        </tr>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport checkWin from \"./compute\";\nimport { useStore } from \"../../stores/global.store\";\nimport Socket from \"../../boot/socket.io\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport { notify } from \"@kyvg/vue3-notification\";\n// import party from \"party-js\";\n\nconst rows = 6;\nconst cols = 7;\n\nlet boardArrays = Array.from({ length: rows }, () =>\n  Array.from({ length: cols }, () => 0)\n);\n\nexport default {\n  name: \"Puissance4Game\",\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const route = useRoute();\n    return {\n      store,\n      // Function\n      startGame() {\n        console.log(\"startGame Go !\");\n        Socket.socket.emit(\"startGame\", {\n          ...store.getCurrentRoom,\n          data: {\n            ...store.getCurrentRoom.data,\n            loadGame: true,\n            isActive: true,\n            board: boardArrays,\n            message: \"DÃ©but de parti au joueurs 1 de commencer !\",\n            gameOver: false,\n            currentPlayer: 1,\n            players: {\n              player1: {\n                ...store.getCurrentRoom.players[0],\n                id: 1,\n                color: \"yellow\",\n                point: 0,\n              },\n              player2: {\n                ...store.getCurrentRoom.players[1],\n                id: 2,\n                color: \"red\",\n                point: 0,\n              },\n            },\n          },\n        });\n      },\n      stopGame() {\n        Socket.socket.emit(\"stop\", store.getCurrentRoom);\n        router.push(\"/\" + store.getCurrentRoom.status);\n      },\n      refreshGame() {\n        console.log(\"refresh game\");\n        // party.confetti(this, {\n        //   count: party.variation.range(20, 40),\n        // });\n        Socket.socket.emit(\"refresh\", {\n          ...store.getCurrentRoom,\n          data: {\n            ...store.getCurrentRoom.data,\n            message: \"Vous recommencer une nouvelle partie ðŸŽ‰ !\",\n            loadGame: true,\n            isActive: true,\n            board: Array.from({ length: rows }, () =>\n              Array.from({ length: cols }, () => 0)\n            ),\n          },\n        });\n      },\n      checkRow(column) {\n        for (let i = 0; i < store.getCurrentRoom.data.board.length; i++) {\n          console.log(\"loop:\", column);\n          if (store.getCurrentRoom.data.board[i][column] !== 0) {\n            return i - 1;\n          }\n        }\n        return 5;\n      },\n      action(r, c) {\n        if (\n          store.getCurrentPlayer.sessionID !==\n          store.getCurrentRoom.data.players[\n            `player${Number(store.getCurrentRoom.data.currentPlayer)}`\n          ].sessionID\n        ) {\n          console.log(\"Ce n'est pas Ã  vous de jouer\");\n        } else if (!store.getCurrentRoom.data.isActive) {\n          store.getCurrentRoom.data.message = `Le joueurs ${store.getCurrentRoom.data.currentPlayer} Ã  gagner, vous devez recommencer une partie !`;\n        } else {\n          let checkRow = this.checkRow(c);\n          store.getCurrentRoom.data.board[checkRow][c] =\n            store.getCurrentRoom.data.currentPlayer;\n\n          const position = [c, checkRow];\n          store.getCurrentRoom.data.gameOver = checkWin(\n            store.getCurrentRoom.data.board,\n            position,\n            store.getCurrentRoom.data.currentPlayer\n          );\n          if (store.getCurrentRoom.data.gameOver) {\n            console.log(\n              `Le joueurs ${store.getCurrentRoom.data.currentPlayer} Ã  gagner`\n            );\n            Socket.socket.emit(\"winner\", {\n              message: `Le joueurs ${store.getCurrentRoom.data.currentPlayer} Ã  gagner ðŸŽ‰ !`,\n            });\n            store.getCurrentRoom.data.players[\n              \"player\" + store.getCurrentRoom.data.currentPlayer\n            ].point++;\n            store.getCurrentRoom.data.message = `Le joueur ${store.getCurrentRoom.data.currentPlayer} Ã  gagner !`;\n            // classWin = true;\n            // ArrÃªte le timer\n            store.getCurrentRoom.data.currentPlayer = 1;\n            store.getCurrentRoom.data.isActive = false;\n          } else {\n            this.togglePlayer();\n            store.getCurrentRoom.data.message = `Au joueurs ${store.getCurrentRoom.data.currentPlayer} de jouer !`;\n          }\n          Socket.socket.emit(\"action\", { ...store.getCurrentRoom });\n        }\n      },\n      checkPlayer() {\n        if (store.getCurrentRoom.data.currentPlayer) {\n          return store.getCurrentRoom.players[\n            store.getCurrentRoom.data.currentPlayer - 1\n          ];\n        } else {\n          return false;\n        }\n      },\n      copyToClipPart() {\n        navigator.clipboard.writeText(window.location.href);\n        notify({\n          title: route.fullPath + \" copied\",\n        });\n      },\n      togglePlayer() {\n        if (store.getCurrentRoom.data.currentPlayer === 1)\n          store.getCurrentRoom.data.currentPlayer = 2;\n        else store.getCurrentRoom.data.currentPlayer = 1;\n      },\n    };\n  },\n};\n</script>\n\n<style lang=\"css\">\ntd {\n  width: 55px;\n  height: 55px;\n  margin: 0px;\n  padding: 0px;\n  border: 2px blue inset;\n  border-radius: 55px;\n  background-color: var(--color-gray-light);\n}\n\ntable {\n  margin: auto;\n  min-width: 50vw;\n  background-color: blue;\n  border-radius: 10px 10px 15px 15px;\n  background: linear-gradient(blue, darkblue);\n  margin-top: 30px;\n  padding: 5px 15px 20px 15px;\n  box-shadow: var(--color-gray-dark) 0 0 20px 5px;\n}\n\n/* .yellowBall {\n  height: 80px;\n  width: 80px;\n  border-radius: 50%;\n  border: solid 2px darkgoldenrod;\n  background: radial-gradient(circle at 10px 10px, yellow, gray);\n} */\n\n.redBall {\n  margin: 0.5rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 80px;\n  width: 80px;\n  border-radius: 50%;\n  border: solid 2px darkred;\n  background: radial-gradient(circle at 10px 10px, red, gray);\n}\n\n.jump {\n  animation: jump 1.5s infinite ease;\n}\n\n@keyframes jump {\n  0% {\n    top: 0;\n  }\n  50% {\n    top: -40px;\n  }\n  100% {\n    top: 0;\n  }\n}\n\n.coin {\n  margin: auto;\n  position: relative;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  top: 0;\n  height: 80px;\n  width: 80px;\n}\n\n.coin-yellow .front,\n.coin-yellow .back {\n  position: absolute;\n  height: 80px;\n  width: 80px;\n  background: yellow; /* #ffbd0b; */\n  border-radius: 50%;\n  border-top: 7px solid var(--color-gray-light);\n  border-left: 7px solid var(--color-gray-light);\n  border-right: 7px solid var(--color-gray-dark);\n  border-bottom: 7px solid var(--color-gray-dark);\n  transform: rotate(0deg);\n}\n\n.coin-red .front,\n.coin-red .back {\n  position: absolute;\n  height: 80px;\n  width: 80px;\n  background: red; /* #ffbd0b; */\n  border-radius: 50%;\n  border-top: 7px solid var(--color-gray-light);\n  border-left: 7px solid var(--color-gray-light);\n  border-right: 7px solid var(--color-gray-dark);\n  border-bottom: 7px solid var(--color-gray-dark);\n  transform: rotate(0deg);\n}\n\n.coin .shadow {\n  width: 100%;\n  height: 20px;\n  background: rgba(0, 0, 0, 0.4);\n  left: 0;\n  bottom: 0px;\n  border-radius: 50%;\n  z-index: -1;\n  margin: 100px 7px 0 7px;\n  animation: swift 1.5s infinite ease;\n}\n/* \n.coin-yellow {\n  background: yellow\n}\n.coin-red {\n  background: red\n} */\n\n@keyframes swift {\n  0% {\n    opacity: 0.8;\n  }\n  50% {\n    opacity: 0.4;\n    transform: scale(0.8);\n  }\n  100% {\n    opacity: 0.8;\n  }\n}\n</style>","function checkHorizontalPosition(boardArray, position, player){\n    // let x = position[0];\n    let y = position[1];\n    \n    let compteurHorizontal = 0;\n    let last = player;\n    for (var b = 0; b < 7; b++) \n    {\n        if (last === boardArray[y][b]) \n        {\n            compteurHorizontal++;\n            if (compteurHorizontal > 3)\n            {\n                return 1;\n            }\n        }\n        else\n        {\n            compteurHorizontal = 0;\n        }\n    }\n}\n\nfunction checkVerticalPosition(boardArray, position, player){\n    let x = position[0];\n    let y = position[1];\n    let ymax = y+3;\n    let ymin = y-3;\n    \n    if (y<2)\n    {\n        let compteurVerticala = 0;\n        let last = player;\n        for (var v = 0; v <= ymax; v++) \n        {\n            if (last === boardArray[v][x]) \n            {\n                compteurVerticala++;\n                if (compteurVerticala > 3)\n                {\n                    return 1;\n                }\n            }\n            else\n            {\n                compteurVerticala = 0;\n            }\n        }\n    }\n    else if (y>3)\n    {\n        let compteurVerticalb = 0;\n        let last = player;\n        for (var m = ymin; m < 6; m++) \n        {\n            if (last === boardArray[m][x]) \n            {\n                compteurVerticalb++;\n                if (compteurVerticalb > 3)\n                {\n                    return 1;\n                }\n            }\n            else\n            {\n                compteurVerticalb = 0;\n            }\n        }\n    }\n    else\n    {\n        let compteurVertical = 0;\n        let last = player;\n        for (var p = 0; p < 6; p++) \n        {\n            if (last === boardArray[p][x]) {\n                compteurVertical++\n                if (compteurVertical === 4){\n                    return 1;\n                }\n            }\n            else\n            {\n                compteurVertical = 0;\n            }\n        }\n    }\n}\n\nfunction checkDiagonalHB(boardArray, position, player){\n    let x = position[0];\n    let y = position[1];\n    let sum = x + y\n    let minimunY = 0\n    let minimunX = 0\n    let diagoMax = 0\n    let maximunY = 0\n    let maximunX = 0\n    let maxDiago = 0\n\n    if (x>y) {\n        minimunY = 0;\n        minimunX = x-y;\n        diagoMax = 7-minimunX;\n    }\n    else\n    {\n        minimunY = y-x;\n        minimunX = 0;\n        diagoMax = 6-minimunY;\n    }\n    \n    if ((5-y)<x) {\n        maximunY = 5;\n        maximunX = x-(5-y);\n        maxDiago = 7-maximunX\n    }\n    else\n    {\n        maximunY = y+x;\n        maximunX = 0;\n        maxDiago = maximunY+1\n    }\n    \n    let last = player;\n    \n    if (diagoMax>=4) {\n        let compteur = 0;\n        for (var i = 0; i < diagoMax; i++) {\n            if (last === boardArray[minimunY+i][minimunX+i]) \n            {\n                compteur++;\n                if (compteur === 4)\n                {\n                    return 1;\n                }\n            }\n            else\n            {\n                compteur = 0;\n            }\n        }\n    }\n    \n    if (sum<=8 && sum>=3) {\n        let compteur = 0;\n        for (var r = 0; r < maxDiago; r++) {\n            if (last === boardArray[maximunY-r][maximunX+r]) \n            {\n                compteur++;\n                if (compteur === 4)\n                {\n                    return 1;\n                }\n            }\n            else\n            {\n                compteur = 0;\n            }\n        }\n    }\n}\n\nexport default function checkWin (boardArray, position, player){\n    console.log(\"checkWin\", boardArray, position, player)\n    var winDiago = checkDiagonalHB(boardArray, position, player)\n    var winVertical = checkVerticalPosition(boardArray, position, player)\n    var winHorizon = checkHorizontalPosition(boardArray, position, player)\n    \n    if (winDiago === 1 || winHorizon === 1 || winVertical === 1) {\n        return 1;\n    }\n    \n}\n","import { render } from \"./game.vue?vue&type=template&id=007c9ac1\"\nimport script from \"./game.vue?vue&type=script&lang=js\"\nexport * from \"./game.vue?vue&type=script&lang=js\"\n\nimport \"./game.vue?vue&type=style&index=0&id=007c9ac1&lang=css\"\n\nimport exportComponent from \"/home/hsuk/Bureau/socket-vue-game/front/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}