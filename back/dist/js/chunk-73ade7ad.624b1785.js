(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73ade7ad"],{1634:function(e,t,r){"use strict";r("3c24")},"3c24":function(e,t,r){},f974:function(e,t,r){"use strict";r.r(t);var o=r("7a23");const a={class:"col center",style:{"min-height":"74vh"}},n={key:0},c={key:1,class:"bg-warning txt-light bdr-dark pa-1 box my-1",style:{"max-width":"720px"}},l={class:"txt-dark"},s=Object(o["createTextVNode"])(" : doit choisir un adversaire "),m=Object(o["createElementVNode"])("strong",{class:"txt-primary"},"Lien d'invitation: ",-1),u={key:0,class:"center w-100-vw py-1 my-1"},i={class:"w-100 px-3"},d=Object(o["createElementVNode"])("h3",null,"Player 1",-1),g={class:"row justify_around w-100"},b={class:"coin coin-yellow"},y={key:0,class:"mt-5"},j={key:1},p=Object(o["createElementVNode"])("h2",null,"VS",-1),C={class:"w-100 px-3"},O=Object(o["createElementVNode"])("h3",null,"Player 2",-1),k={class:"row justify_around w-100"},R={key:0,class:"mt-5"},f={key:1},h={key:2},v={class:"coin coin-red"},E={key:1,class:"ma-1"},B={key:2,style:{display:"flex","justify-content":"space-around"}},V={key:3},N=Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("th",{colspan:"7"})],-1),P=["id","onClick"];function w(e,t,r,w,D,x){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",a,[Object(o["createElementVNode"])("div",null,[w.store.getCurrentRoom.data.author?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("h3",n,"Welcome to puissance 4")),w.store.getCurrentRoom.players.length<w.store.getCurrentRoom.limitPlayers?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[Object(o["createElementVNode"])("p",null,[Object(o["createElementVNode"])("strong",l,Object(o["toDisplayString"])(w.store.getCurrentRoom.author.username),1),s])])):Object(o["createCommentVNode"])("",!0),w.store.getCurrentRoom.users.length<w.store.getCurrentRoom.limitPlayers?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:2,class:"bg-accent txt-light bdr-dark pa-1 box my-1",style:{"max-width":"720px"},onClick:t[0]||(t[0]=()=>w.copyToClipPart(w.store.getCurrentRoom.name))},[m,Object(o["createElementVNode"])("p",null,Object(o["toDisplayString"])(w.store.getCurrentRoom.name),1)])):Object(o["createCommentVNode"])("",!0)]),w.store.getCurrentRoom.data&&w.store.getCurrentRoom.players[0]&&w.store.getCurrentRoom.players[1]?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",u,[Object(o["createElementVNode"])("div",i,[d,Object(o["createElementVNode"])("div",g,[Object(o["createElementVNode"])("div",b,[Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])("front "+(w.store.getCurrentRoom.players[0]&&w.checkPlayer().sessionID===w.store.getCurrentRoom.players[0].sessionID?"jump":""))},null,2),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(w.store.getCurrentRoom.players[0]&&w.checkPlayer().sessionID===w.store.getCurrentRoom.players[0].sessionID?"shadow":"")},null,2)]),Object(o["createElementVNode"])("div",null,[w.store.getCurrentRoom.players.length>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("h4",y,Object(o["toDisplayString"])(w.store.getCurrentRoom.players[0].username),1)):Object(o["createCommentVNode"])("",!0),w.store.getCurrentRoom.data.players?(Object(o["openBlock"])(),Object(o["createElementBlock"])("h3",j,Object(o["toDisplayString"])(w.store.getCurrentRoom.data.players.player1.point),1)):Object(o["createCommentVNode"])("",!0)])])]),p,Object(o["createElementVNode"])("div",C,[O,Object(o["createElementVNode"])("div",k,[Object(o["createElementVNode"])("div",null,[w.store.getCurrentRoom.players.length>1?(Object(o["openBlock"])(),Object(o["createElementBlock"])("h4",R,Object(o["toDisplayString"])(w.store.getCurrentRoom.players[1].username),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("h5",f,"En attente")),w.store.getCurrentRoom.data.players?(Object(o["openBlock"])(),Object(o["createElementBlock"])("h3",h,Object(o["toDisplayString"])(w.store.getCurrentRoom.data.players.player2.point),1)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",v,[Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])("front "+(w.store.getCurrentRoom.players[1]&&w.checkPlayer().sessionID===w.store.getCurrentRoom.players[1].sessionID?"jump":""))},null,2),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(w.store.getCurrentRoom.players[1]&&w.checkPlayer().sessionID===w.store.getCurrentRoom.players[1].sessionID?"shadow":"")},null,2)])])])])):Object(o["createCommentVNode"])("",!0),w.store.getCurrentRoom.data.message?(Object(o["openBlock"])(),Object(o["createElementBlock"])("h5",E,Object(o["toDisplayString"])(w.store.getCurrentRoom.data.message),1)):Object(o["createCommentVNode"])("",!0),w.store.getCurrentPlayer.sessionID===w.store.getCurrentRoom.author.sessionID&&w.store.getCurrentRoom.players&&w.store.getCurrentRoom.players.length>=w.store.getCurrentRoom.limitPlayers?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",B,[w.store.getCurrentRoom.data.loadGame?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:1,onClick:t[2]||(t[2]=e=>w.stopGame())},"Stop game")):(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,onClick:t[1]||(t[1]=e=>w.startGame())}," Start ")),w.store.getCurrentRoom.data.loadGame?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:2,onClick:t[3]||(t[3]=e=>w.refreshGame())}," Recommencer ")):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0),w.store.getCurrentRoom.data.loadGame?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",V,[Object(o["createElementVNode"])("table",null,[N,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(w.store.getCurrentRoom.data.board,(e,t)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:t},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e,(e,r)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("td",{key:r,style:Object(o["normalizeStyle"])("background-color: "+(1===e?"yellow":2===e?"red":"")),id:"cell-"+t+"-"+r,onClick:()=>w.action(t,r)},null,12,P))),128))]))),128))])])):Object(o["createCommentVNode"])("",!0)])}function D(e,t,r){let o=t[1],a=0,n=r;for(var c=0;c<7;c++)if(n===e[o][c]){if(a++,a>3)return 1}else a=0}function x(e,t,r){let o=t[0],a=t[1],n=a+3,c=a-3;if(a<2){let t=0,a=r;for(var l=0;l<=n;l++)if(a===e[l][o]){if(t++,t>3)return 1}else t=0}else if(a>3){let t=0,a=r;for(var s=c;s<6;s++)if(a===e[s][o]){if(t++,t>3)return 1}else t=0}else{let t=0,a=r;for(var m=0;m<6;m++)if(a===e[m][o]){if(t++,4===t)return 1}else t=0}}function G(e,t,r){let o=t[0],a=t[1],n=o+a,c=0,l=0,s=0,m=0,u=0,i=0;o>a?(c=0,l=o-a,s=7-l):(c=a-o,l=0,s=6-c),5-a<o?(m=5,u=o-(5-a),i=7-u):(m=a+o,u=0,i=m+1);let d=r;if(s>=4){let t=0;for(var g=0;g<s;g++)if(d===e[c+g][l+g]){if(t++,4===t)return 1}else t=0}if(n<=8&&n>=3){let t=0;for(var b=0;b<i;b++)if(d===e[m-b][u+b]){if(t++,4===t)return 1}else t=0}}function I(e,t,r){console.log("checkWin",e,t,r);var o=G(e,t,r),a=x(e,t,r),n=D(e,t,r);if(1===o||1===n||1===a)return 1}var S=r("2d55"),A=r("66de"),L=r("6605"),z=r("bfbe");const $=6,T=7;let F=Array.from({length:$},()=>Array.from({length:T},()=>0));var J={name:"Puissance4Game",setup(){const e=Object(S["a"])(),t=Object(L["f"])(),r=Object(L["e"])();return{store:e,startGame(){console.log("startGame Go !"),A["a"].socket.emit("startGame",{...e.getCurrentRoom,data:{...e.getCurrentRoom.data,loadGame:!0,isActive:!0,board:F,message:"DÃ©but de parti au joueurs 1 de commencer !",gameOver:!1,currentPlayer:1,players:{player1:{...e.getCurrentRoom.players[0],id:1,color:"yellow",point:0},player2:{...e.getCurrentRoom.players[1],id:2,color:"red",point:0}}}})},stopGame(){A["a"].socket.emit("stop",e.getCurrentRoom),t.push("/"+e.getCurrentRoom.status)},refreshGame(){console.log("refresh game"),A["a"].socket.emit("refresh",{...e.getCurrentRoom,data:{...e.getCurrentRoom.data,message:"Vous recommencer une nouvelle partie ðŸŽ‰ !",loadGame:!0,isActive:!0,board:Array.from({length:$},()=>Array.from({length:T},()=>0))}})},checkRow(t){for(let r=0;r<e.getCurrentRoom.data.board.length;r++)if(console.log("loop:",t),0!==e.getCurrentRoom.data.board[r][t])return r-1;return 5},action(t,r){if(e.getCurrentPlayer.sessionID!==e.getCurrentRoom.data.players["player"+Number(e.getCurrentRoom.data.currentPlayer)].sessionID)console.log("Ce n'est pas Ã  vous de jouer");else if(e.getCurrentRoom.data.isActive){let t=this.checkRow(r);e.getCurrentRoom.data.board[t][r]=e.getCurrentRoom.data.currentPlayer;const o=[r,t];e.getCurrentRoom.data.gameOver=I(e.getCurrentRoom.data.board,o,e.getCurrentRoom.data.currentPlayer),e.getCurrentRoom.data.gameOver?(console.log(`Le joueurs ${e.getCurrentRoom.data.currentPlayer} Ã  gagner`),A["a"].socket.emit("winner",{message:`Le joueurs ${e.getCurrentRoom.data.currentPlayer} Ã  gagner ðŸŽ‰ !`}),e.getCurrentRoom.data.players["player"+e.getCurrentRoom.data.currentPlayer].point++,e.getCurrentRoom.data.message=`Le joueur ${e.getCurrentRoom.data.currentPlayer} Ã  gagner !`,e.getCurrentRoom.data.currentPlayer=1,e.getCurrentRoom.data.isActive=!1):(this.togglePlayer(),e.getCurrentRoom.data.message=`Au joueurs ${e.getCurrentRoom.data.currentPlayer} de jouer !`),A["a"].socket.emit("action",{...e.getCurrentRoom})}else e.getCurrentRoom.data.message=`Le joueurs ${e.getCurrentRoom.data.currentPlayer} Ã  gagner, vous devez recommencer une partie !`},checkPlayer(){return!!e.getCurrentRoom.data.currentPlayer&&e.getCurrentRoom.players[e.getCurrentRoom.data.currentPlayer-1]},copyToClipPart(){navigator.clipboard.writeText(window.location.href),Object(z["b"])({title:r.fullPath+" copied"})},togglePlayer(){1===e.getCurrentRoom.data.currentPlayer?e.getCurrentRoom.data.currentPlayer=2:e.getCurrentRoom.data.currentPlayer=1}}}},W=(r("1634"),r("6b0d")),_=r.n(W);const q=_()(J,[["render",w]]);t["default"]=q}}]);
//# sourceMappingURL=chunk-73ade7ad.624b1785.js.map