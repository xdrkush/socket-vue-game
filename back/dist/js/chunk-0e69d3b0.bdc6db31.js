(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e69d3b0"],{"48b1":function(e,t,o){"use strict";var r=o("7a23");const c={style:{width:"auto",position:"fixed",padding:"3px",bottom:"0",right:"0","box-shadow":"0 0 10px",overflow:"auto"}},n={key:0,style:{padding:"7px",height:"auto",display:"flex",overflow:"auto","flex-direction":"column","justify-content":"space-between","background-color":"darkslategrey",color:"white",border:"solid 1px lightgreen"}},a={style:{display:"flex","justify-content":"space-between","align-items":"center"}},l={key:0},s={key:1},b={key:1,style:{padding:"7px",color:"white",height:"auto",display:"flex","flex-direction":"column","background-color":"darkslategrey","justify-content":"space-between",border:"solid 1px lightgreen",overflow:"auto"}},d={key:0},i={key:1},m={key:0},u={key:2,style:{border:"solid 1px lightgreen",height:"40vh","min-width":"320px",padding:"5px 5px","background-color":"darkslategrey",display:"flex","flex-direction":"column","justify-content":"space-between"}},j={style:{overflow:"auto"}},O=Object(r["createElementVNode"])("button",{type:"submit",style:{width:"20%"}},"Send",-1),p={style:{display:"flex",padding:"3px","justify-content":"space-between","background-color":"darkslategrey"}},g={key:3,style:{"border-radius":"0 0 7px 7px","background-color":"darkslategrey",color:"lightseagreen"}},y=Object(r["createTextVNode"])("Retour acceuil - Kush-Land");function k(e,t,o,k,h,x){const C=Object(r["resolveComponent"])("router-link");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",c,[k.account&&k.dashboard?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",n,[Object(r["createElementVNode"])("p",null,Object(r["toDisplayString"])(k.store.getCurrentPlayer.username),1),Object(r["createElementVNode"])("div",a,[k.editName?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",s,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>k.store.getCurrentPlayer.username=e),type:"text"},null,512),[[r["vModelText"],k.store.getCurrentPlayer.username]])])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("p",l,Object(r["toDisplayString"])(k.store.getCurrentPlayer.username),1)),k.editName?(Object(r["openBlock"])(),Object(r["createElementBlock"])("button",{key:2,onClick:t[1]||(t[1]=()=>{k.editName=!k.editName,k.store.getCurrentPlayer.username=k.oldUser.username}),style:{"background-color":"lightcoral"}}," X ")):Object(r["createCommentVNode"])("",!0),k.editName?(Object(r["openBlock"])(),Object(r["createElementBlock"])("button",{key:4,onClick:t[3]||(t[3]=()=>k.editProfile())},"confirmer")):(Object(r["openBlock"])(),Object(r["createElementBlock"])("button",{key:3,onClick:t[2]||(t[2]=t=>k.editName=!e.editname)},"edit"))])])):Object(r["createCommentVNode"])("",!0),k.game&&k.dashboard?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",b,[Object(r["createElementVNode"])("form",{onSubmit:t[4]||(t[4]=(...t)=>e.invite&&e.invite(...t)),style:{display:"flex","flex-direction":"column","justify-content":"space-around"}},[k.store.getGames.length>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("p",d,"Jeux disponible")):Object(r["createCommentVNode"])("",!0),(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(k.store.games,(e,t)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:e.name+t},[Object(r["createVNode"])(C,{to:"/"+e.path},{default:Object(r["withCtx"])(()=>[Object(r["createElementVNode"])("button",null,Object(r["toDisplayString"])(e.name),1)]),_:2},1032,["to"])]))),128)),k.store.getRooms.length>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("p",i,"Rejoindre une partie")):Object(r["createCommentVNode"])("",!0),(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(k.store.rooms,(e,t)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:t},[Object(r["createVNode"])(C,{to:"/game/"+e.name},{default:Object(r["withCtx"])(()=>[e?(Object(r["openBlock"])(),Object(r["createElementBlock"])("button",m,Object(r["toDisplayString"])(e.status)+" - "+Object(r["toDisplayString"])(e.author.username)+" : [ "+Object(r["toDisplayString"])(e.players.length)+" / "+Object(r["toDisplayString"])(e.limitPlayers)+" ] :: "+Object(r["toDisplayString"])(e.users.length),1)):Object(r["createCommentVNode"])("",!0)]),_:2},1032,["to"])]))),128))],32)])):Object(r["createCommentVNode"])("",!0),k.chat&&k.dashboard?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",u,[Object(r["createElementVNode"])("div",j,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(k.store.messages,(e,t)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:t},[Object(r["createElementVNode"])("div",{style:Object(r["normalizeStyle"])(`\n            padding: 5px 0;\n            width: 100%;\n            display: flex;\n            justify-content: ${e.author===k.store.getCurrentPlayer.username?"end":"start"};\n          `)},[Object(r["createElementVNode"])("div",{style:Object(r["normalizeStyle"])(`\n            padding: 10px;\n            width: 80%;\n            background-color: lightgreen;\n            color: ${e.author,k.store.getCurrentPlayer.username,"darklategrey"};\n            border-radius: ${e.author===k.store.getCurrentPlayer.username?"10px 10px 0 10px":"10px 10px 10px 0"};\n            text-align: ${e.author===k.store.getCurrentPlayer.username?"right":"left"};\n          `)},[Object(r["createElementVNode"])("p",null,[Object(r["createElementVNode"])("strong",null,Object(r["toDisplayString"])(e.author===k.store.getCurrentPlayer.username?"Moi":e.author)+": ",1)]),Object(r["createElementVNode"])("p",null,Object(r["toDisplayString"])(e.text),1)],4)],4)]))),128))]),Object(r["createElementVNode"])("form",{onSubmit:t[6]||(t[6]=(...e)=>k.sendMessage&&k.sendMessage(...e)),style:{display:"flex","justify-content":"space-between",padding:"5px","box-shadow":"0 0 10px"}},[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"text",style:{width:"80%"},"onUpdate:modelValue":t[5]||(t[5]=e=>k.text=e)},null,512),[[r["vModelText"],k.text]]),O],32)])):Object(r["createCommentVNode"])("",!0),Object(r["createElementVNode"])("div",p,[k.dashboard?(Object(r["openBlock"])(),Object(r["createElementBlock"])("button",{key:0,onClick:t[7]||(t[7]=e=>k.chat=!k.chat)},"Chat")):Object(r["createCommentVNode"])("",!0),k.dashboard?(Object(r["openBlock"])(),Object(r["createElementBlock"])("button",{key:1,onClick:t[8]||(t[8]=e=>k.account=!k.account)},"Account")):Object(r["createCommentVNode"])("",!0),k.dashboard?(Object(r["openBlock"])(),Object(r["createElementBlock"])("button",{key:2,onClick:t[9]||(t[9]=e=>k.game=!k.game)},"Games")):Object(r["createCommentVNode"])("",!0),k.dashboard?(Object(r["openBlock"])(),Object(r["createElementBlock"])("button",{key:4,onClick:t[11]||(t[11]=()=>{k.chat=!k.chat,k.dashboard=!k.dashboard,k.account=!k.account,k.game=!k.game})}," RÃ©duire ")):(Object(r["openBlock"])(),Object(r["createElementBlock"])("button",{key:3,onClick:t[10]||(t[10]=()=>{k.chat=!k.chat,k.dashboard=!k.dashboard,k.account=!k.account,k.game=!k.game}),style:{"background-color":"lightseagreen",color:"white",padding:"7px","border-radius":"15px",border:"solid 1px darkslategrey","box-shadow":"0 0 3px black","text-shadow":"0 0 5px black"}}," Dashboard "))]),k.dashboard?(Object(r["openBlock"])(),Object(r["createElementBlock"])("p",g,[Object(r["createVNode"])(C,{to:"/"},{default:Object(r["withCtx"])(()=>[y]),_:1})])):Object(r["createCommentVNode"])("",!0)])}var h=o("66de"),x=o("2d55"),C={name:"Chat",setup(){const e=Object(x["a"])(),t=Object(r["ref"])(!1),o=Object(r["ref"])(!1),c=Object(r["ref"])(!1),n=Object(r["ref"])(!1),a=Object(r["ref"])(!1),l=Object(r["ref"])(""),s=Object(r["ref"])({...e.getCurrentPlayer}),b={...e.getCurrentPlayer};return{store:e,oldUser:b,user:s,dashboard:t,chat:o,game:c,editName:a,account:n,text:l,sendMessage(t){t.preventDefault(),console.log("sendMessage",e.getCurrentPlayer,l.value),l.value.length<=0||(h["a"].socket.emit("sendMessage",{author:e.getCurrentPlayer.username,authorID:e.getCurrentPlayer.sessionID,text:l.value}),l.value="")},toggleChat(){o.value?o.value=!1:o.value=!0},editProfile(){console.log("editProfile",e.getCurrentPlayer),h["a"].socket.emit("editProfile",{...e.getCurrentPlayer})}}}},B=o("6b0d"),E=o.n(B);const f=E()(C,[["render",k]]);t["a"]=f},bda9:function(e,t,o){"use strict";o.r(t);var r=o("7a23");const c={style:{display:"flex",color:"#000",height:"7vh","justify-content":"space-between","background-color":"darkslategrey","align-items":"center","border-bottom":"solid 1px lightgreen","box-shadow":"0 0 10px","margin-bottom":"5px"}};function n(e,t,o,n,a,l){const s=Object(r["resolveComponent"])("CurrentRoom"),b=Object(r["resolveComponent"])("Dashboard"),d=Object(r["resolveComponent"])("router-view");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createElementVNode"])("nav",c,[Object(r["createElementVNode"])("h2",{onClick:t[0]||(t[0]=()=>e.copyToClipPart()),style:{"margin-left":"20px",color:"white"}},Object(r["toDisplayString"])(e.store.getCurrentRoom.name),1)]),Object(r["createVNode"])(s),Object(r["createVNode"])(b),Object(r["createElementVNode"])("div",null,[Object(r["createVNode"])(d)])])}var a=o("6605"),l=o("48b1"),s=o("2d55"),b=o("66de");const d={class:"bg-dark txt-light",style:{padding:"5px"}},i={key:0},m=Object(r["createTextVNode"])(" Players: "),u=Object(r["createElementVNode"])("button",{class:"bg-accent"},[Object(r["createElementVNode"])("strong",null,"+ INFO")],-1),j={key:1,class:"justify_between"},O={class:"w-50 pa-1"},p={class:"bdr-b-primary py-1"},g=Object(r["createElementVNode"])("h5",{class:"my-1"},"Players",-1),y={key:0,style:{display:"flex"}},k={key:0,class:"col center"},h=["value"],x={key:1},C={class:"bdr-b-primary py-1"},B=Object(r["createElementVNode"])("h5",{class:"my-1"},"Users",-1),E={key:0,style:{display:"flex"}},f={class:"w-50 pa-1"};function v(e,t,o,c,n,a){const l=Object(r["resolveComponent"])("ChatRoom");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",d,[c.store.getCurrentRoom.author?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:0,class:"justify_between bdr-b-primary",onClick:t[0]||(t[0]=e=>c.info=!c.info)},[c.store.getCurrentRoom.author.username?(Object(r["openBlock"])(),Object(r["createElementBlock"])("p",i," By: @"+Object(r["toDisplayString"])(c.store.getCurrentRoom.author.username),1)):Object(r["createCommentVNode"])("",!0),Object(r["createElementVNode"])("p",null,[m,Object(r["createElementVNode"])("span",{class:Object(r["normalizeClass"])(c.store.getCurrentRoom.players.length>=c.store.getCurrentRoom.limitPlayers?"txt-negative":"txt-positive")},Object(r["toDisplayString"])(c.store.getCurrentRoom.players.length),3),Object(r["createTextVNode"])(" / "+Object(r["toDisplayString"])(c.store.getCurrentRoom.limitPlayers),1)]),Object(r["createElementVNode"])("p",null,"Visitors: "+Object(r["toDisplayString"])(c.store.getCurrentRoom.users.length),1),u])):Object(r["createCommentVNode"])("",!0),c.info?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",j,[Object(r["createElementVNode"])("div",O,[Object(r["createElementVNode"])("div",p,[g,c.store.getCurrentRoom.players.length>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("ul",y,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(c.store.getCurrentRoom.players,(e,t)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{class:"bdr-dark mx-1 bg-primary txt-dark",key:e},[Object(r["createElementVNode"])("div",null,[Object(r["createElementVNode"])("p",null,"Player "+Object(r["toDisplayString"])(t+1),1),Object(r["createElementVNode"])("p",null,"@"+Object(r["toDisplayString"])(e.username),1)])]))),128)),c.store.getCurrentRoom.author.sessionID===c.store.getCurrentPlayer.sessionID?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",k,[Object(r["withDirectives"])(Object(r["createElementVNode"])("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>c.choosePlayer=e),placeholder:"Choisir un joueur"},[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(c.store.getCurrentRoom.users,e=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("option",{value:e.sessionID,key:e.sessionID},Object(r["toDisplayString"])(e.username),9,h))),128))],512),[[r["vModelSelect"],c.choosePlayer]]),c.choosePlayer?(Object(r["openBlock"])(),Object(r["createElementBlock"])("button",{key:0,onClick:t[2]||(t[2]=()=>c.selectPlayer(c.choosePlayer,c.store.getCurrentRoom))}," OK ")):(Object(r["openBlock"])(),Object(r["createElementBlock"])("p",x,"Choisir un joueur"))])):Object(r["createCommentVNode"])("",!0)])):Object(r["createCommentVNode"])("",!0)]),Object(r["createElementVNode"])("div",C,[B,c.store.getCurrentRoom.users.length>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("ul",E,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(c.store.getCurrentRoom.users,e=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{class:"bdr-dark mx-1 bg-primary txt-dark",key:e},[Object(r["createElementVNode"])("div",null,[Object(r["createElementVNode"])("p",null,"@"+Object(r["toDisplayString"])(e.username),1)])]))),128))])):Object(r["createCommentVNode"])("",!0)])]),Object(r["createElementVNode"])("div",f,[Object(r["createVNode"])(l)])])):Object(r["createCommentVNode"])("",!0)])}const N={class:"bg-dark txt-light",style:{padding:"5px"}},V={key:0,class:"bdr-primary bg-dark",style:{height:"60vh",display:"flex","flex-direction":"column","justify-content":"space-between"}},w={style:{overflow:"auto"},class:"pa-1"},P=Object(r["createElementVNode"])("button",{type:"submit",style:{width:"20%"}},"Send",-1),D={key:1};function S(e,t,o,c,n,a){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",N,[c.store.getCurrentRoom.chat?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",V,[Object(r["createElementVNode"])("div",w,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(c.store.getCurrentRoom.chat.messages,(e,t)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:t},[Object(r["createElementVNode"])("div",{class:"py-1 w-100",style:Object(r["normalizeStyle"])(`\n            display: flex;\n            justify-content: ${e.author===c.store.getCurrentPlayer.username?"end":"start"};\n          `)},[Object(r["createElementVNode"])("div",{class:"bg-primary pa-1 txt-dark",style:Object(r["normalizeStyle"])(`\n            width: 80%;\n            border-radius: ${e.author===c.store.getCurrentPlayer.username?"10px 10px 0 10px":"10px 10px 10px 0"};\n            text-align: ${e.author===c.store.getCurrentPlayer.username?"right":"left"};\n          `)},[Object(r["createElementVNode"])("p",null,[Object(r["createElementVNode"])("strong",null,Object(r["toDisplayString"])(e.author===c.store.getCurrentPlayer.username?"Moi":e.author)+": ",1)]),Object(r["createElementVNode"])("p",null,Object(r["toDisplayString"])(e.text),1)],4)],4)]))),128))]),Object(r["createElementVNode"])("form",{onSubmit:t[1]||(t[1]=(...e)=>c.sendMessage&&c.sendMessage(...e)),class:"justify_between"},[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"text",style:{width:"80%"},"onUpdate:modelValue":t[0]||(t[0]=e=>c.text=e)},null,512),[[r["vModelText"],c.text]]),P],32)])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",D,"Aucun chat"))])}var R={name:"Home",setup(){const e=Object(s["a"])(),t=Object(r["ref"])(""),o=Object(r["ref"])(!1),c=Object(r["ref"])("");return{store:e,choosePlayer:t,info:o,text:c,sendMessage(t){t.preventDefault(),console.log("sendMessageRoom",e.getCurrentPlayer,c.value),c.value.length<=0||(e.getCurrentRoom.chat.messages.push({author:e.getCurrentPlayer.username,authorID:e.getCurrentPlayer.sessionID,text:c.value}),b["a"].socket.emit("sendMessageRoom",{room:e.getCurrentRoom}),c.value="")}}}},M=o("6b0d"),L=o.n(M);const I=L()(R,[["render",S]]);var $=I,T={name:"Home",components:{ChatRoom:$},setup(){const e=Object(s["a"])(),t=Object(r["ref"])(""),o=Object(r["ref"])(!1);return{store:e,choosePlayer:t,info:o,selectPlayer(e,t){console.log("selectPlayer",e,t),b["a"].socket.emit("selectPlayer",{choosePlayer:e,room:t})}}}};const F=L()(T,[["render",v]]);var U=F,_=o("bfbe"),z=Object(r["defineComponent"])({name:"MainLayout",components:{Dashboard:l["a"],CurrentRoom:U},setup(){const e=Object(s["a"])(),t=Object(a["e"])(),o=Object(a["f"])();return console.log("GameLayout",t.params.game,t.params.id,t.params.name),e.getLoggedIn?b["a"].socket.emit("getSyncRoom",{user:e.getCurrentPlayer,room:`${t.params.game}/${t.params.id}/${t.params.name}`}):o.push("/"),{store:e,copyToClipPart(){navigator.clipboard.writeText(window.location.href),Object(_["b"])(t.fullPath+" copied")}}}});const G=L()(z,[["render",n]]);t["default"]=G}}]);
//# sourceMappingURL=chunk-0e69d3b0.bdc6db31.js.map